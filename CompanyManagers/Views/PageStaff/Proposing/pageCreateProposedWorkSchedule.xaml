<UserControl x:Class="CompanyManagers.Views.PageStaff.Proposing.pageCreateProposedWorkSchedule"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:CompanyManagers.Views.PageStaff.Proposing"
             xmlns:tool="clr-namespace:CompanyManagers.Common.Tool"
             mc:Ignorable="d"  MinWidth="500" MaxWidth="1000">
    <Grid>
        <ScrollViewer x:Name="scoll" HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Hidden">
            <Border MouseLeftButtonDown="CloseBox" CornerRadius="10" Background="{StaticResource colorTextMessage}" >
                <WrapPanel PreviewMouseWheel="ScollCreateProposing" HorizontalAlignment="Center" Margin="10">
                    <Border Grid.Column="0" MinWidth="420" MaxWidth="480" x:Name="detailProposing" Margin="0 10 10 0" CornerRadius="10" Background="WhiteSmoke">
                        <Border.Effect>
                            <DropShadowEffect ShadowDepth="0"  BlurRadius="10" Opacity="0.3"></DropShadowEffect>
                        </Border.Effect>
                        <StackPanel Margin="10">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="30"/>
                                    <ColumnDefinition/>
                                </Grid.ColumnDefinitions>
                                <Path Cursor="Hand" MouseLeftButtonUp="ClosePopupCreateProposing" Grid.Column="0" Data="{StaticResource iconRightArrowz}" Width="25" Margin="0 2 5 0" Height="25" Stretch="Fill" RenderTransformOrigin="0.5,0.5">
                                    <Path.RenderTransform>
                                        <TransformGroup>
                                            <ScaleTransform/>
                                            <SkewTransform/>
                                            <RotateTransform Angle="180"/>
                                            <TranslateTransform/>
                                        </TransformGroup>
                                    </Path.RenderTransform>
                                    <Path.Style>
                                        <Style TargetType="Path">
                                            <Setter Property="Fill" Value="{StaticResource colorTheme}"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ElementName=NameProposing, Path=IsMouseOver}" Value="true">
                                                    <Setter Property="Fill" Value="{DynamicResource colorTheme}"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Path.Style>
                                </Path>
                                <TextBlock Grid.Column="1" Text="Đề xuất lịch làm việc" FontSize="20" FontWeight="Medium" Foreground="{DynamicResource colorTextForTheme}" HorizontalAlignment="Center"/>
                            </Grid>
                            <StackPanel Margin="0 15 0 15">
                                <TextBlock FontSize="16" FontWeight="Medium">
                                    <Run Text="Tên đề xuất" Foreground="{StaticResource colorText1}"/>
                                    <Run Text="*" Foreground="{StaticResource ColorRed}"/>
                                </TextBlock>
                                <Border MinHeight="40" CornerRadius="5" Cursor="Hand" BorderThickness="1" BorderBrush="{DynamicResource colorTheme}">
                                    <Grid>
                                        <TextBox x:Name="tb_InputNameProposing" Margin="10 0 0 0" TextWrapping="Wrap" MinWidth="200"   BorderThickness="0" FontSize="16" Background="Transparent" HorizontalAlignment="Left" VerticalAlignment="Center"  Foreground="{StaticResource colorText1}"/>
                                        <TextBlock FontSize="16" Foreground="#ACACAC" Margin="10 0 0 0" Text="Nhập tên đề xuất" IsHitTestVisible="False" HorizontalAlignment="Left" VerticalAlignment="Center" >
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding ElementName=tb_InputNameProposing, Path=Text}" Value="">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Border>
                            </StackPanel>
                            <StackPanel>
                                <TextBlock FontSize="16" FontWeight="Medium">
                                <Run Text="Họ và tên" Foreground="{StaticResource colorText1}"/>
                                </TextBlock>
                                <Border Height="40" Cursor="Hand" CornerRadius="5" BorderThickness="1" BorderBrush="{DynamicResource colorTheme}">
                                    <TextBlock x:Name="tb_UserNameCreate" Text="Tô Ngọc Ký" FontSize="16" Foreground="{StaticResource colorText1}" TextWrapping="Wrap" Margin="5 0 5 10" IsHitTestVisible="False" HorizontalAlignment="Left" VerticalAlignment="Bottom"/>
                                </Border>
                            </StackPanel>
                            <StackPanel Margin="0 15 0 15">
                                <TextBlock FontSize="16" FontWeight="Medium">
                                <Run Text="Loại đề xuất" Foreground="{StaticResource colorText1}"/>
                                </TextBlock>
                                <Border Height="40" Cursor="Hand" CornerRadius="5" BorderThickness="1" BorderBrush="{DynamicResource colorTheme}">
                                    <TextBlock x:Name="tb_CategoryProposingCreate" Text="Đơn xin nghỉ phép" FontSize="16" Foreground="{StaticResource colorText1}" TextWrapping="Wrap" Margin="5 0 5 10" IsHitTestVisible="False" HorizontalAlignment="Left" VerticalAlignment="Bottom"/>
                                </Border>
                            </StackPanel>
                            <StackPanel MinHeight="40" Grid.Column="0" x:Name="stp_TypeComfirm">
                                <TextBlock FontSize="16" FontWeight="Medium">
                                <Run Text="Kiểu kiểm duyệt" Foreground="{StaticResource colorText1}"/>
                                <Run Text="*" Foreground="{StaticResource ColorRed}"/>
                                </TextBlock>
                                <tool:ComboboxSelected x:Name="SelectTypeComfirm" Cursor="Hand" SelectionChangedSelected="ClickSelectTypeComfirm" Grid.Column="0" Height="40" DisplayMemberPathSelected="name_Custom" PlaceHolderSelected="Chọn kiểu duyệt" PlaceHolderForgroundSelected="#ACACAC" FontSize="16"></tool:ComboboxSelected>
                            </StackPanel>
                            <StackPanel Margin="0 15 0 15">
                                <TextBlock FontSize="16" FontWeight="Medium">
                                <Run Text="Người xét duyệt" Foreground="{StaticResource colorText1}"/>
                                <Run Text="*" Foreground="{StaticResource ColorRed}"/>
                                </TextBlock>
                                <Border BorderThickness="1" MinHeight="40" BorderBrush="{DynamicResource colorTheme}" CornerRadius="5">
                                    <Grid>
                                        <Border x:Name="btnDeleteUserConfirmAll" MouseLeftButtonDown="DeleteUserConfirmAll" Cursor="Hand" Visibility="Collapsed" CornerRadius="20" Width="15" Height="15" Margin="440,1,0,50" >
                                            <Border.Style>
                                                <Style TargetType="Border">
                                                    <Setter Property="Background" Value="#E93434"></Setter>
                                                    <Setter Property="TextBlock.Foreground" Value="#FFFFFF"></Setter>
                                                    <Style.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter Property="Background" Value="#4AA7FF"></Setter>
                                                            <Setter Property="TextBlock.Foreground" Value="#FFFFFF"></Setter>
                                                        </Trigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Border.Style>
                                            <TextBlock Text="x" FontSize="16" HorizontalAlignment="Center" Margin="0 -5 0 0" VerticalAlignment="Center" FontWeight="DemiBold"  Cursor="Hand"  x:Name="xoaMailChon"/>
                                        </Border>
                                        <StackPanel>
                                            <ListView x:Name="lsvUserComfirmSelected" HorizontalAlignment="Left" Background="Transparent" Visibility="Collapsed" ItemsSource="{Binding dataListUserComfrim, RelativeSource={RelativeSource AncestorType=UserControl}}" Margin="5 5 -10 5" BorderThickness="0" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Auto">
                                                <ListView.ItemsPanel>
                                                    <ItemsPanelTemplate>
                                                        <WrapPanel Orientation="Horizontal"></WrapPanel>
                                                    </ItemsPanelTemplate>
                                                </ListView.ItemsPanel>
                                                <ListView.ItemContainerStyle>
                                                    <Style TargetType="ListViewItem">
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="ListViewItem">
                                                                    <WrapPanel Margin="0 0 10 5" Orientation="Horizontal" Background="{DynamicResource colorMoveMouseItem}">
                                                                        <Border CornerRadius="5" BorderThickness="1" BorderBrush="{StaticResource ColorGreen}">
                                                                            <DockPanel Margin="2">
                                                                                <TextBlock Text="{Binding userName}" FontSize="16" Foreground="{DynamicResource colorText1}" VerticalAlignment="Center"/>
                                                                                <Border x:Name="btnDeleteUserConfirm" MouseLeftButtonDown="DeleteUserConfirm" Cursor="Hand" Margin="5 -15 -10 0" CornerRadius="20" Width="15" Height="15" >
                                                                                    <Border.Style>
                                                                                        <Style TargetType="Border">
                                                                                            <Setter Property="Background" Value="#E93434"></Setter>
                                                                                            <Setter Property="TextBlock.Foreground" Value="#FFFFFF"></Setter>
                                                                                            <Style.Triggers>
                                                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                                                    <Setter Property="Background" Value="#4AA7FF"></Setter>
                                                                                                    <Setter Property="TextBlock.Foreground" Value="#FFFFFF"></Setter>
                                                                                                </Trigger>
                                                                                            </Style.Triggers>
                                                                                        </Style>
                                                                                    </Border.Style>
                                                                                    <TextBlock Text="x" FontSize="16" HorizontalAlignment="Center" Margin="0 -5 0 0" VerticalAlignment="Center" FontWeight="DemiBold"  Cursor="Hand"  x:Name="xoaMailChon"/>
                                                                                </Border>
                                                                            </DockPanel>
                                                                        </Border>
                                                                    </WrapPanel>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Style>
                                                </ListView.ItemContainerStyle>
                                            </ListView>
                                            <tool:SearchBar x:Name="SelectUserComfirm" DisplayMemberPath="userName" Margin="0 5 0 0" Cursor="Hand" BorderThickness="0" CornerRadius="5"  SelectionChanged="SelectionChangeUserComfirm" PlaceHolderForground="#ACACAC" FontSize="16"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>
                            </StackPanel>
                            <StackPanel>
                                <TextBlock FontSize="16" FontWeight="Medium">
                                <Run Text="Người theo dõi" Foreground="{StaticResource colorText1}"/>
                                <Run Text="*" Foreground="{StaticResource ColorRed}"/>
                                </TextBlock>
                                <tool:SearchBar x:Name="SelectUserFollow" DisplayMemberPath="userName" Cursor="Hand" BorderThickness="1" CornerRadius="5" BorderBrush="{DynamicResource colorTheme}" Height="40" SelectionChanged="SelectionChangeUserFollow" PlaceHolder="Chọn người theo dõi" PlaceHolderForground="#ACACAC" FontSize="16"></tool:SearchBar>
                            </StackPanel>
                            <StackPanel Margin="0 15 0 15">
                                <TextBlock FontSize="16" FontWeight="Medium">
                                <Run Text="Lý do" Foreground="{StaticResource colorText1}"/>
                                <Run Text="*" Foreground="{StaticResource ColorRed}"/>
                                </TextBlock>
                                <Border CornerRadius="5" Cursor="Hand" BorderThickness="1" BorderBrush="{DynamicResource colorTheme}">
                                    <Grid>
                                        <TextBox x:Name="tb_InputReasonCreateProposing" Height="100" MinWidth="200" Margin="10 10 5 -5"  BorderThickness="0" FontSize="16" Background="Transparent" HorizontalAlignment="Left" VerticalAlignment="Center" TextWrapping="Wrap" Foreground="{StaticResource colorText1}"/>
                                        <TextBlock FontSize="15" Foreground="#ACACAC" TextWrapping="Wrap" Text="Nhập lý do tạo đê xuất"  Margin="10 10 5 10" IsHitTestVisible="False" HorizontalAlignment="Left" VerticalAlignment="Top" >
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding ElementName=tb_InputReasonCreateProposing, Path=Text}" Value="">
                                                            <Setter Property="Visibility" Value="Visible"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </Border>
                            </StackPanel>
                            <StackPanel MinHeight="40">
                                <TextBlock FontSize="16" FontWeight="Medium">
                                <Run Text="Chọn lịch làm việc" Foreground="{StaticResource colorText1}"/>
                                <Run Text="*" Foreground="{StaticResource ColorRed}"/>
                                </TextBlock>
                                <tool:ComboboxSelected x:Name="SelectCalendarWork" Cursor="Hand" SelectionChangedSelected="ClickSelectCalendarWork" Grid.Column="0" Height="40" DisplayMemberPathSelected="name_Custom" PlaceHolderSelected="Chọn lịch làm việc" PlaceHolderForgroundSelected="#ACACAC" FontSize="16"></tool:ComboboxSelected>
                            </StackPanel>
                            <StackPanel x:Name="stp_FileGim" Margin="0 15 0 15">
                                <TextBlock FontSize="16" FontWeight="Medium">
                                <Run Text="Tài liệu đính kèm" Foreground="{StaticResource colorText1}"/>
                                </TextBlock>
                                <Border BorderThickness="1" Cursor="Hand" Background="Transparent" BorderBrush="{DynamicResource colorTheme}" MinHeight="40" CornerRadius="5">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition/>
                                            <ColumnDefinition Width="50"/>
                                        </Grid.ColumnDefinitions>
                                        <Grid Grid.Column="0">
                                            <TextBlock x:Name="TextHidenFileGim" FontSize="15" Foreground="#ACACAC" TextWrapping="Wrap" Text="Thêm tài liệu đính kèm"  Margin="5 0 5 10" IsHitTestVisible="False" HorizontalAlignment="Left" VerticalAlignment="Bottom"/>
                                            <ListView x:Name="lsvFileGim" HorizontalAlignment="Left" Background="Transparent" Visibility="Collapsed" Margin="5 5 -10 5" BorderThickness="0" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Auto">
                                                <ListView.ItemsPanel>
                                                    <ItemsPanelTemplate>
                                                        <WrapPanel Orientation="Horizontal"></WrapPanel>
                                                    </ItemsPanelTemplate>
                                                </ListView.ItemsPanel>
                                                <ListView.ItemContainerStyle>
                                                    <Style TargetType="ListViewItem">
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="ListViewItem">
                                                                    <WrapPanel Margin="0 0 10 5" Orientation="Horizontal" Background="{DynamicResource colorMoveMouseItem}">
                                                                        <Border CornerRadius="5" BorderThickness="1" BorderBrush="{StaticResource ColorGreen}">
                                                                            <DockPanel Margin="2">
                                                                                <TextBlock Text="{Binding Path = NameDisplay}" FontSize="16" Foreground="{DynamicResource colorText1}" MaxWidth="400" TextTrimming="CharacterEllipsis" VerticalAlignment="Center"/>
                                                                                <Border x:Name="btnDeleteFileGim" MouseLeftButtonDown="DeleteFileGim" Cursor="Hand" Margin="5 -15 -10 0" CornerRadius="20" Width="15" Height="15" >
                                                                                    <Border.Style>
                                                                                        <Style TargetType="Border">
                                                                                            <Setter Property="Background" Value="#E93434"></Setter>
                                                                                            <Setter Property="TextBlock.Foreground" Value="#FFFFFF"></Setter>
                                                                                            <Style.Triggers>
                                                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                                                    <Setter Property="Background" Value="#4AA7FF"></Setter>
                                                                                                    <Setter Property="TextBlock.Foreground" Value="#FFFFFF"></Setter>
                                                                                                </Trigger>
                                                                                            </Style.Triggers>
                                                                                        </Style>
                                                                                    </Border.Style>
                                                                                    <TextBlock Text="x" FontSize="16" HorizontalAlignment="Center" Margin="0 -5 0 0" VerticalAlignment="Center" FontWeight="DemiBold"  Cursor="Hand"  x:Name="xoaMailChon"/>
                                                                                </Border>
                                                                            </DockPanel>
                                                                        </Border>
                                                                    </WrapPanel>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Style>
                                                </ListView.ItemContainerStyle>
                                            </ListView>
                                        </Grid>
                                        <Border Grid.Column="1" Cursor="Hand" Background="Transparent" MouseLeftButtonUp="AddFileGimForProposing">
                                            <Path  Data="{StaticResource iconAddFile}"  HorizontalAlignment="Right" Margin="0 0 10 0" Width="25" Height="25" Stretch="Fill" Fill="{DynamicResource colorText1}"/>
                                        </Border>
                                    </Grid>
                                </Border>
                            </StackPanel>
                            <StackPanel>
                                <TextBlock FontSize="16" FontWeight="Medium">
                                <Run Text="Thời gian bắt đầu" Foreground="{StaticResource colorText1}"/>
                                <Run Text="*" Foreground="{StaticResource ColorRed}"/>
                                </TextBlock>
                                <tool:DatePicker x:Name="StartDateWorkSchedule" SelectedDateChange="SelectedStartDateWorkSchedule" BorderThickness="1" MinHeight="40" BorderBrush="{DynamicResource colorTheme}" CornerRadius="5"/>
                            </StackPanel>
                            <StackPanel Margin="0 15 0 15">
                                <TextBlock FontSize="16" FontWeight="Medium">
                                <Run Text="Ca làm việc" Foreground="{StaticResource colorText1}"/>
                                <Run Text="*" Foreground="{StaticResource ColorRed}"/>
                                </TextBlock>
                                <Border Height="40" MouseLeftButtonUp="ShowBoxSelectShift" Cursor="Hand" Background="Transparent" CornerRadius="5" BorderThickness="1" BorderBrush="{DynamicResource colorTheme}">
                                    <DockPanel>
                                        <TextBlock x:Name="ShiftWork" Text="Chọn ca làm việc" FontSize="16" Foreground="{StaticResource colorText1}" TextWrapping="Wrap" Margin="5 0 5 10" IsHitTestVisible="False" HorizontalAlignment="Left" VerticalAlignment="Bottom"/>
                                        <Border Grid.Column="1" Cursor="Hand" Background="Transparent">
                                            <Path VerticalAlignment="Center" Stretch="Uniform" Margin="10 0 10 0" HorizontalAlignment="Right" Fill="#474747" Data="{StaticResource iconArrowBotton}" Height="15" Width="15"/>
                                        </Border>
                                    </DockPanel>
                                </Border>
                                <Border x:Name="borSelectedShift" Visibility="Collapsed" BorderThickness="1" BorderBrush="{DynamicResource colorTheme}" CornerRadius="5" Margin="0 2 0 0" MouseEnter="SelectedShiftHover" MouseLeave="SelectedShiftOutHover">
                                    <ScrollViewer x:Name="scrollCaLamViec1" MaxHeight="200" Margin="10">
                                        <ItemsControl  x:Name="lsvShiftWork" BorderThickness="0" ItemsSource="{Binding listShiftAll, RelativeSource={RelativeSource AncestorType=UserControl}}" ScrollViewer.HorizontalScrollBarVisibility="Auto" ScrollViewer.VerticalScrollBarVisibility="Auto">
                                            <ItemsControl.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <StackPanel Width="{Binding RelativeSource={RelativeSource AncestorType=UserControl, Mode=FindAncestor}, Path=ActualWidth}" />
                                                </ItemsPanelTemplate>
                                            </ItemsControl.ItemsPanel>
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <DockPanel Margin="0 0 0 10" MouseLeftButtonDown="SelectShiftPlan" Cursor="Hand" Background="Transparent">
                                                        <CheckBox IsHitTestVisible="False"  VerticalAlignment="Center" x:Name="cbSelectShiftWork" >
                                                            <CheckBox.Style>
                                                                <Style TargetType="CheckBox">
                                                                    <Setter Property="Template">
                                                                        <Setter.Value>
                                                                            <ControlTemplate TargetType="{x:Type CheckBox}">
                                                                                <StackPanel Orientation="Horizontal">
                                                                                    <Border x:Name="checkboxBorder" Width="20" Height="20" BorderBrush="{DynamicResource colorTheme}" BorderThickness="1" CornerRadius="3" Background="Transparent" Margin="0"  VerticalAlignment="Center" Cursor="Hand">
                                                                                        <Path x:Name="checkboxPath" Width="15" Height="15" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="Uniform" Data="{StaticResource iconCheck}" Stroke="#FFFFFF" StrokeThickness="4" StrokeLineJoin="Round" StrokeStartLineCap="Round" StrokeEndLineCap="Round"></Path>
                                                                                    </Border>
                                                                                    <ContentPresenter VerticalAlignment="Center" Margin="5 0 0 0"/>
                                                                                </StackPanel>
                                                                                <ControlTemplate.Triggers>
                                                                                    <Trigger Property="IsChecked" Value="False">
                                                                                        <Setter TargetName="checkboxPath" Property="Visibility" Value="Hidden"></Setter>
                                                                                        <Setter TargetName="checkboxBorder" Property="Background" Value="Transparent"></Setter>
                                                                                    </Trigger>
                                                                                    <Trigger Property="IsChecked" Value="True">
                                                                                        <Setter TargetName="checkboxBorder" Property="BorderBrush" Value="Transparent"></Setter>
                                                                                        <Setter TargetName="checkboxBorder" Property="Background" Value="{DynamicResource colorTheme}"></Setter>
                                                                                    </Trigger>
                                                                                    <MultiTrigger>
                                                                                        <MultiTrigger.Conditions>
                                                                                            <Condition Property="IsMouseOver" Value="True"/>
                                                                                            <Condition Property="IsChecked" Value="False"/>
                                                                                        </MultiTrigger.Conditions>
                                                                                    </MultiTrigger>
                                                                                </ControlTemplate.Triggers>
                                                                            </ControlTemplate>
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                    <Setter Property="IsChecked" Value="False"/>
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{Binding isSeleced}" Value="True">
                                                                            <Setter Property="IsChecked" Value="True"/>
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </CheckBox.Style>
                                                        </CheckBox>
                                                        <TextBlock FontSize="16" Margin="10 0 0 0" FontWeight="Medium" Foreground="{StaticResource colorText1}" Text="{Binding shift_name}" />
                                                    </DockPanel>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>
                                    </ScrollViewer>
                                </Border>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                    <Border x:Name="detaiCalendar" Height="{Binding ElementName=stp_ShowCalendar, Path=ActualHeight}" VerticalAlignment="Top" MinWidth="420" MaxWidth="480" Margin="0 10 0 0" CornerRadius="10" Background="WhiteSmoke">
                        <Border.Effect>
                            <DropShadowEffect ShadowDepth="0"  BlurRadius="10" Opacity="0.3"></DropShadowEffect>
                        </Border.Effect>
                        <StackPanel>
                            <StackPanel x:Name="stp_ShowCalendar" Margin="10 0 10 0">
                                <TextBlock FontSize="20" FontWeight="Medium" Foreground="{DynamicResource colorTextForTheme}" HorizontalAlignment="Center">
                            <Run Text="Tháng"/>
                            <Run x:Name="MonthCalendar"/>
                                </TextBlock>
                                <Border x:Name="HeaderCalendarWork" Background="{DynamicResource colorTheme}" Margin="0 20 0 20" CornerRadius="10 10 0 0">
                                    <Grid Margin="10">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition/>
                                            <ColumnDefinition/>
                                            <ColumnDefinition/>
                                            <ColumnDefinition/>
                                            <ColumnDefinition/>
                                            <ColumnDefinition/>
                                            <ColumnDefinition/>
                                        </Grid.ColumnDefinitions>
                                        <TextBlock Grid.Column="0" Text="CN" FontSize="16" FontWeight="Medium" Foreground="{StaticResource colorWriter}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="1" Text="T2" FontSize="16" FontWeight="Medium" Foreground="{StaticResource colorWriter}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="2" Text="T3" FontSize="16" FontWeight="Medium" Foreground="{StaticResource colorWriter}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="3" Text="T4" FontSize="16" FontWeight="Medium" Foreground="{StaticResource colorWriter}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="4" Text="T5" FontSize="16" FontWeight="Medium" Foreground="{StaticResource colorWriter}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="5" Text="T6" FontSize="16" FontWeight="Medium" Foreground="{StaticResource colorWriter}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="6" Text="T7" FontSize="16" FontWeight="Medium" Foreground="{StaticResource colorWriter}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Grid>
                                </Border>
                                <Border CornerRadius="0 0 10 10" BorderThickness="1 0 1 1" BorderBrush="{DynamicResource colorTheme}" Margin="0 -20 0 20">
                                    <ListView x:Name="lsvLoadCalendarPicker" ItemsSource="{Binding listLichProposing,RelativeSource={RelativeSource AncestorType=UserControl}}" BorderThickness="0" Background="Transparent" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled">
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <WrapPanel Width="{Binding ElementName=HeaderCalendarWork, Path=ActualWidth}"/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemContainerStyle>
                                            <Style TargetType="ListViewItem">
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="ListViewItem">
                                                            <Grid Width="64.286" Height="50" Margin="0 10 0 0">
                                                                <Border Width="40" Height="40" MouseLeftButtonDown="SelectShiftForDay" BorderBrush="{DynamicResource colorTheme}" HorizontalAlignment="Center"  CornerRadius="50">
                                                                    <Border.Style>
                                                                        <Style TargetType="Border">
                                                                            <Setter Property="BorderThickness" Value="0"/>
                                                                            <Setter Property="Background" Value="Transparent"/>
                                                                            <Setter Property="Cursor" Value="Hand"/>
                                                                            <Style.Triggers>
                                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                                    <Setter Property="Background" Value="LightBlue"/>
                                                                                </Trigger>
                                                                                <MultiDataTrigger>
                                                                                    <MultiDataTrigger.Conditions>
                                                                                        <Condition Binding="{Binding statusClick}" Value="1"/>
                                                                                    </MultiDataTrigger.Conditions>
                                                                                    <Setter Property="BorderThickness" Value="1"/>
                                                                                </MultiDataTrigger>
                                                                                <MultiDataTrigger>
                                                                                    <MultiDataTrigger.Conditions>
                                                                                        <Condition Binding="{Binding statusClick}" Value="2"/>
                                                                                    </MultiDataTrigger.Conditions>
                                                                                    <Setter Property="Background" Value="{DynamicResource colorTheme}"/>
                                                                                </MultiDataTrigger>
                                                                                <MultiDataTrigger>
                                                                                    <MultiDataTrigger.Conditions>
                                                                                        <Condition Binding="{Binding statusPast}" Value="1"/>
                                                                                    </MultiDataTrigger.Conditions>
                                                                                    <Setter Property="Cursor" Value="No"/>
                                                                                    <Setter Property="Background" Value="Transparent"/>
                                                                                </MultiDataTrigger>
                                                                                <MultiDataTrigger>
                                                                                    <MultiDataTrigger.Conditions>
                                                                                        <Condition Binding="{Binding statusClick}" Value="0"/>
                                                                                    </MultiDataTrigger.Conditions>
                                                                                    <Setter Property="Cursor" Value="No"/>
                                                                                    <Setter Property="Background" Value="Transparent"/>
                                                                                </MultiDataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </Border.Style>
                                                                    <Grid>
                                                                        <Path Width="30" Height="30" Stretch="Fill" Data="{StaticResource iconClose}" StrokeThickness="1.5" Stroke="{StaticResource colorRemoveRed}">
                                                                            <Path.Style>
                                                                                <Style TargetType="Path">
                                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                                    <Style.Triggers>
                                                                                        <MultiDataTrigger>
                                                                                            <MultiDataTrigger.Conditions>
                                                                                                <Condition Binding="{Binding statusClick}" Value="1"/>
                                                                                                <Condition Binding="{Binding statusPast}" Value="1"/>
                                                                                            </MultiDataTrigger.Conditions>
                                                                                            <Setter Property="Visibility" Value="Visible"/>
                                                                                        </MultiDataTrigger>
                                                                                    </Style.Triggers>
                                                                                </Style>
                                                                            </Path.Style>
                                                                        </Path>
                                                                        <TextBlock Text="{Binding DayInCalendar}" FontSize="16" FontWeight="Medium" HorizontalAlignment="Center" VerticalAlignment="Center">
                                                                            <TextBlock.Style>
                                                                                <Style TargetType="TextBlock">
                                                                                    <Setter Property="Foreground" Value="#ACACAC"/>
                                                                                    <Style.Triggers>
                                                                                        <MultiDataTrigger>
                                                                                            <MultiDataTrigger.Conditions>
                                                                                                <Condition Binding="{Binding statusClick}" Value="1"/>
                                                                                            </MultiDataTrigger.Conditions>
                                                                                            <Setter Property="Foreground" Value="{DynamicResource colorTextForTheme}"/>
                                                                                        </MultiDataTrigger>
                                                                                        <MultiDataTrigger>
                                                                                            <MultiDataTrigger.Conditions>
                                                                                                <Condition Binding="{Binding statusClick}" Value="2"/>
                                                                                            </MultiDataTrigger.Conditions>
                                                                                            <Setter Property="Foreground" Value="{StaticResource colorWriter}"/>
                                                                                        </MultiDataTrigger>
                                                                                    </Style.Triggers>
                                                                                </Style>
                                                                            </TextBlock.Style>
                                                                        </TextBlock>
                                                                    </Grid>
                                                                </Border>
                                                                <Border Width="25" Height="25" CornerRadius="25" BorderThickness="1" BorderBrush="{DynamicResource colorTheme}" Margin="20,-5,-10,30" RenderTransformOrigin="1.083,0.439">
                                                                    <Border.Style>
                                                                        <Style TargetType="Border">
                                                                            <Setter Property="Visibility" Value="Visible"/>
                                                                            <Setter Property="Background" Value="{DynamicResource colorTextForTheme}"/>
                                                                            <Style.Triggers>
                                                                                <MultiDataTrigger>
                                                                                    <MultiDataTrigger.Conditions>
                                                                                        <Condition Binding="{Binding statusClick}" Value="2"/>
                                                                                    </MultiDataTrigger.Conditions>
                                                                                    <Setter Property="Background" Value="{StaticResource ColorRed}"/>
                                                                                </MultiDataTrigger>
                                                                                <MultiDataTrigger>
                                                                                    <MultiDataTrigger.Conditions>
                                                                                        <Condition Binding="{Binding shiftSelected}" Value="0"/>
                                                                                    </MultiDataTrigger.Conditions>
                                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                                </MultiDataTrigger>
                                                                                <MultiDataTrigger>
                                                                                    <MultiDataTrigger.Conditions>
                                                                                        <Condition Binding="{Binding statusClick}" Value="0"/>
                                                                                    </MultiDataTrigger.Conditions>
                                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                                </MultiDataTrigger>
                                                                                <MultiDataTrigger>
                                                                                    <MultiDataTrigger.Conditions>
                                                                                        <Condition Binding="{Binding statusPast}" Value="1"/>
                                                                                    </MultiDataTrigger.Conditions>
                                                                                    <Setter Property="Visibility" Value="Collapsed"/>
                                                                                </MultiDataTrigger>
                                                                            </Style.Triggers>
                                                                        </Style>
                                                                    </Border.Style>
                                                                    <TextBlock Text="{Binding shiftSelected}" FontSize="14" FontWeight="Regular" Foreground="{StaticResource colorWriter}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                                </Border>
                                                            </Grid>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </ListView.ItemContainerStyle>
                                    </ListView>
                                </Border>
                                <TextBlock FontSize="18" FontWeight="Regular" >
                                    <TextBlock.Style>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding statutSelectDay, RelativeSource={RelativeSource AncestorType=UserControl}}" Value="true">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </TextBlock.Style>
                                <Run Text="Chọn ca làm việc ngày: " Foreground="{DynamicResource colorText1}"/>
                                <Run Text="{Binding dateSelectedForDay, RelativeSource={RelativeSource AncestorType=UserControl}}" Foreground="{DynamicResource colorTextForTheme}"/>
                                <Run Text="của bạn" Foreground="{DynamicResource colorText1}"/>
                                </TextBlock>
                                <Border x:Name="borSelectedShiftForDay" BorderThickness="1" BorderBrush="{DynamicResource colorTheme}" CornerRadius="5" Margin="0 15 0 20" MouseEnter="SelectedShiftHover" MouseLeave="SelectedShiftOutHover">
                                    <Border.Style>
                                        <Style TargetType="Border">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding statutSelectDay, RelativeSource={RelativeSource AncestorType=UserControl}}" Value="true">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Border.Style>
                                    <ScrollViewer x:Name="scrollSelectedShiftForDay" MaxHeight="200" Margin="10">
                                        <ItemsControl  x:Name="lsvShiftForDay" BorderThickness="0" ItemsSource="{Binding listShiftAllSelected, RelativeSource={RelativeSource AncestorType=UserControl}}" ScrollViewer.HorizontalScrollBarVisibility="Auto" ScrollViewer.VerticalScrollBarVisibility="Auto">
                                            <ItemsControl.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <StackPanel Width="{Binding RelativeSource={RelativeSource AncestorType=UserControl, Mode=FindAncestor}, Path=ActualWidth}" />
                                                </ItemsPanelTemplate>
                                            </ItemsControl.ItemsPanel>
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <DockPanel Margin="0 0 0 10" Cursor="Hand" MouseLeftButtonDown="SelectedShiftForDayCheckbox" Background="Transparent">
                                                        <CheckBox IsHitTestVisible="False"  VerticalAlignment="Center" x:Name="cbSelectedShiftForDay">
                                                            <CheckBox.Style>
                                                                <Style TargetType="CheckBox">
                                                                    <Setter Property="Template">
                                                                        <Setter.Value>
                                                                            <ControlTemplate TargetType="{x:Type CheckBox}">
                                                                                <StackPanel Orientation="Horizontal">
                                                                                    <Border x:Name="checkboxBorder" Width="20" Height="20" BorderBrush="{DynamicResource colorTheme}" BorderThickness="1" CornerRadius="3" Background="Transparent" Margin="0"  VerticalAlignment="Center" Cursor="Hand">
                                                                                        <Path x:Name="checkboxPath" Width="15" Height="15" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="Uniform" Data="{StaticResource iconCheck}" Stroke="#FFFFFF" StrokeThickness="4" StrokeLineJoin="Round" StrokeStartLineCap="Round" StrokeEndLineCap="Round"></Path>
                                                                                    </Border>
                                                                                    <ContentPresenter VerticalAlignment="Center" Margin="5 0 0 0"/>
                                                                                </StackPanel>
                                                                                <ControlTemplate.Triggers>
                                                                                    <Trigger Property="IsChecked" Value="False">
                                                                                        <Setter TargetName="checkboxPath" Property="Visibility" Value="Hidden"></Setter>
                                                                                        <Setter TargetName="checkboxBorder" Property="Background" Value="Transparent"></Setter>
                                                                                    </Trigger>
                                                                                    <Trigger Property="IsChecked" Value="True">
                                                                                        <Setter TargetName="checkboxBorder" Property="BorderBrush" Value="Transparent"></Setter>
                                                                                        <Setter TargetName="checkboxBorder" Property="Background" Value="{DynamicResource colorTheme}"></Setter>
                                                                                    </Trigger>
                                                                                    <MultiTrigger>
                                                                                        <MultiTrigger.Conditions>
                                                                                            <Condition Property="IsMouseOver" Value="True"/>
                                                                                            <Condition Property="IsChecked" Value="False"/>
                                                                                        </MultiTrigger.Conditions>
                                                                                    </MultiTrigger>
                                                                                </ControlTemplate.Triggers>
                                                                            </ControlTemplate>
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                    <Setter Property="IsChecked" Value="False"/>
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{Binding isSelecedForDay}" Value="True">
                                                                            <Setter Property="IsChecked" Value="True"/>
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </CheckBox.Style>
                                                        </CheckBox>
                                                        <TextBlock FontSize="16" Margin="10 0 0 0" FontWeight="Medium" Foreground="{StaticResource colorText1}" Text="{Binding shift_name}" />
                                                    </DockPanel>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>
                                    </ScrollViewer>
                                </Border>
                                <Grid Margin="0 0 0 20">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Border Grid.Column="0" x:Name="btnCencalCalendar" MouseLeftButtonDown="CencalCalendar" Margin="0 0 10 0" BorderThickness="1" BorderBrush="{DynamicResource colorTheme}" CornerRadius="10" Cursor="Hand">
                                        <Border.Style>
                                            <Style TargetType="Border">
                                                <Setter Property="Background" Value="Transparent"/>
                                                <Style.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="{DynamicResource colorTheme}"/>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Border.Style>
                                        <TextBlock HorizontalAlignment="Center" Margin="5" VerticalAlignment="Center" FontSize="16" FontWeight="Regular" Text="Hủy lịch">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Foreground" Value="#FF5B4D"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding ElementName=btnCencalCalendar, Path=IsMouseOver}" Value="true">
                                                            <Setter Property="Foreground" Value="{DynamicResource colorWriter}"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Border>
                                    <Border Grid.Column="1" x:Name="btnCreateProposing" MouseLeftButtonDown="CreateProposing" Margin="10 0 0 0" BorderThickness="1" BorderBrush="{DynamicResource colorTheme}" CornerRadius="10" Cursor="Hand">
                                        <Border.Style>
                                            <Style TargetType="Border">
                                                <Setter Property="Background" Value="Transparent"/>
                                                <Style.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Background" Value="{DynamicResource colorTheme}"/>
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Border.Style>
                                        <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="16" FontWeight="Regular" Text="Tạo đề xuất">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Foreground" Value="{DynamicResource colorTextForTheme}"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding ElementName=btnCreateProposing, Path=IsMouseOver}" Value="true">
                                                            <Setter Property="Foreground" Value="{DynamicResource colorWriter}"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Border>
                                </Grid>
                            </StackPanel>
                        </StackPanel>
                    </Border>
                </WrapPanel>
            </Border>
        </ScrollViewer>
        <Border x:Name="bor_ShowNotication" Height="{Binding ElementName=stpNotication, Path=ActualHeight}" Background="WhiteSmoke" Margin="0 100 0 0" VerticalAlignment="Top" HorizontalAlignment="Center" CornerRadius="10">
            <Border.Style>
                <Style TargetType="Border">
                    <Setter Property="Visibility" Value="Collapsed"/>
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding statusValidate, RelativeSource={RelativeSource AncestorType=UserControl}}" Value="false">
                            <Setter Property="Visibility" Value="Visible"/>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Border.Style>
            <Border.Effect>
                <DropShadowEffect ShadowDepth="0"  BlurRadius="10" Opacity="0.3"></DropShadowEffect>
            </Border.Effect>
            <StackPanel x:Name="stpNotication" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="10">
                <TextBlock x:Name="tb_Notication" Text="Bạn đã chọn tệp có kích thước quá lớn, giới hạn là 25MB" Margin="0 10 0 10" HorizontalAlignment="Center" FontSize="16" Foreground="{StaticResource colorRemoveRed}" FontWeight="Regular"/>
                <Border CornerRadius="10" MaxWidth="150" MouseLeftButtonUp="CLickCloseNotication" Cursor="Hand" Background="{StaticResource colorBlue}" Margin="10">
                    <TextBlock Text="OK" Foreground="{StaticResource colorTextMessage}" FontSize="16" FontWeight="Medium" VerticalAlignment="Center" HorizontalAlignment="Center" Margin="5"/>
                </Border>
            </StackPanel>
        </Border>
    </Grid>
</UserControl>
